# Addressing Variable Dependency in GNN-based SAT Solving  

Zhiyuan Yan \(^{1}\) , Min Li \(^{2}\) , Zhengyuan Shi \(^{2}\) , Wenjie Zhang \(^{3}\) , Yingcong Chen \(^{1}\) and Hongce Zhang \(^{1}\)  

\(^{1}\) Hong Kong University of Science and Technology(Guangzhou) \(^{2}\) The Chinese University of Hong Kong \(^{3}\) Peking University zyan760@connect.hkust- gz.edu.cn \(^{1}\) , {mli,zyshi21}@cse.cuhk.edu.hk \(^{2}\) , zhang_wen_jie@pku.edu.cn \(^{3}\) , yingcong.ian.chen@gmail.com \(^{1}\) , hongcezh@ust.hk \(^{1}\)  

## Abstract  

Boolean satisfiability problem (SAT) is fundamental to many applications. Existing works have used graph neural networks (GNNs) for (approximate) SAT solving. Typical GNN- based end- to- end SAT solvers predict SAT solutions concurrently. We show that for a group of symmetric SAT problems, the concurrent prediction is guaranteed to produce a wrong answer because it neglects the dependency among Boolean variables in SAT problems. We propose AsymSAT, a GNN- based architecture which integrates recurrent neural networks to generate dependent predictions for variable assignments. The experiment results show that dependent variable prediction extends the solving capability of the GNN- based method as it improves the number of solved SAT instances on large test sets.  

## 1 Introduction  

Boolean satisfiability problem (or the SAT problem) is to decide if there exists a set of 0- 1 (false/true) assignments to the Boolean variables in a given Boolean formula such that the formula evaluates to 1 (true). Solving the SAT problem is at the core of many applications, for example, the electronic design automation (EDA), where the growing complexity of hardware demands for more intelligent design and verification tools [Brand, 1993]. One of the classic applications of SAT solving in EDA is combinational logic equivalence checking, where two circuits for comparison are composed into one mixer circuit [Gupta et al., 2006]. This mixer circuit can be further converted into a conjunctive norm form (CNF) formula. If the formula is satisfiable, then the two circuits are not equivalent. In this paper, we refer to solving the Boolean formula in CNF as the SAT problem. If the problem input is directly in the circuit form, then we call it the Circuit- SAT problem.  

Traditionally, SAT and Circuit- SAT problems are solved by heuristic searching algorithms, for example, the Conflict- Driven Clause Learning (CDCL) algorithm [Marques- Silva and Sakallah, 1999], implemented in solvers like MiniSAT [Sorensson and Een, 2005] and Glucose [Audemard  

and Simon, 2014]. While SAT problems are NP- complete, heuristics play an important role in speeding up the algorithms. Many effective heuristics have been proposed so far. For example, the Variable State- Independent Decaying Sum (VSIDS) method was brought up to aid variable selection in the search process [Moskewicz et al., 2001]. Those heuristic algorithms have led to a huge improvement in computational efficiency. However, they are also limited by the greedy nature of their strategy and therefore, could be sub- optimal in certain cases [Shi et al., 2021].  

Recently, there has been a growing interest in applying machine learning methods to solve combinatorial problems, including the SAT problem [Duan et al., 2022]. With the help of deep neural networks (DNN), end- to- end models can learn the expected outcome from the problem description. For example, [Selsam et al., 2018] proposed the NeuroSAT architecture to approach SAT solving as a binary classification problem. NeuroSAT treats the input CNF as a bipartite graph and uses the graph neural network (GNN) to predict whether the set of CNF clauses is satisfiable or not. Compared to the existing heuristic searching method, NeuroSAT requires no pre- defined heuristics. [Amizadeh et al., 2018] considered the scenario when the problem formulation is in the form of a circuit (namely the Circuit- SAT problem). As the circuit is by nature a graph, the GNN- based architecture also applies here. Unlike NeuroSAT which requires extra steps to decode a satisfying assignment from a SAT prediction, the neural Circuit- SAT method in [Amizadeh et al., 2018] directly predicts the satisfying assignment. These existing GNN- based end- to- end methods have demonstrated the potential of using machine- learning techniques in SAT solving.  

Although prior works showed that it is possible to predict SAT solutions from the graph structure of the problem formulation, we identify an important flaw in these existing GNN- based end- to- end SAT solving methods: there exists a set of satisfiable CNF formulas (correspondingly, a set of satisfiable circuits for the Circuit- SAT problem) whose satisfying assignments cannot be learned by the existing methods in [Selsam et al., 2018] or [Amizadeh et al., 2018]. These CNF formulas (or circuits) have symmetric formulations, but their solutions are asymmetric. Here, symmetry means swapping a pair of variables resulting in exactly the same CNF formula (or circuit). However, a satisfying assignment requires that the two symmetric variables must take different values. A