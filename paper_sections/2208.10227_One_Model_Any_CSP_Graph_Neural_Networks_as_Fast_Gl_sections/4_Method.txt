With every CSP instance \(\mathcal{I} = (\mathcal{X},\mathcal{D},\mathcal{C})\) we associate a tripartite graph with vertex set \(\mathcal{X}\cup \mathcal{V}\cup \mathcal{C}\) , where \(\mathcal{V}\) is the set of values defined in the previous section, and two kinds of edges: variable edges \((X,\nu)\) for all \(X\in \mathcal{X}\) and \(\nu \in \mathcal{V}_X\) , and constraint edges \((C,\nu)\) for all \(C\in \mathcal{C}\) and \(\nu \in \mathcal{V}_X\) for some \(X\) in the scope of \(C\) .  

This graph representation is more or less standard; one slightly unusual feature is that we introduce edges from constraints directly to the values and not to the variables. This will be important in the next step, where information about
<center>Figure 1: Example of the constraint value graph \(G(\mathcal{F},\alpha)\) for a given CSP instance \(\mathcal{F}\) and an assignment \(\alpha\) . The graph contains vertices for the variables, values and constraints of \(\mathcal{F}\) . Each value is connected to its variable and labeled with the assignment \(\alpha\) . Each constraint is connected to the values of its variables. This edge set is labeled such that a label of 1 for edge \((C,\nu)\) states that choosing value \(\upsilon\) will satisfy the constraint \(C\) if no other variables involved in \(C\) change their values. </center>  

the constraint relations \(R^{C}\) is compactly encoded through a binary labeling of the constraint edges. For each assignment \(\alpha\) we introduce a vertex labeling \(L_{V}\) and an edge labeling \(L_{E}\) . The vertex labeling \(L_{V}\) is a binary encoding of \(\alpha\) , that is, \(L_{V}(\nu) = 1\) if \(\nu \in \alpha\) and \(L_{V}(\nu) = 0\) for each \(\nu \in \mathcal{V} \setminus \alpha\) . The edge labeling \(L_{E}\) encodes how changes to \(\alpha\) affect each constraint. For every constraint \(C \in \mathcal{C}\) and value \((X_{i}, d) \in \mathcal{V}_{X_{i}}\) of variable \(X_{i}\) in the scope \((X_{1}, \ldots , X_{k})\) of \(C\) we define the edge label to be \(L_{E}(C, \nu) = 1\) if  

\[(\alpha (X_{1}), \ldots , \alpha (X_{i - 1}), d, \alpha (X_{i + 1}), \ldots , \alpha (X_{k})) \in R^{C}.\]  

and \(L_{E}(C, \nu) = 0\) otherwise. Intuitively, the edge labels encode for each constraint edge \((C, \nu)\) whether or not choosing the value \(\nu\) for its variable would satisfy \(C\) under the condition that all other variables involved in \(C\) retain their current value in \(\alpha\) . We call the labeled graph \(G(\mathcal{F}, \alpha)\) obtained this way the constraint value graph of \(\mathcal{F}\) at \(\alpha\) . Figure 1 provides a visual example of our construction.