The propositional logic has long been recognized as one of the corner stones of reasoning in philosophy and mathematics (Biere et al. 2009). The satisfiability problem of propositional logic formulas (SAT) has significant impact on many areas of computer science and artificial intelligence. SAT is the first problem proved to be NP- complete (Cook 1971), requiring the worst- case exponential time to be solved unless \(\mathrm{P} = \mathrm{NP}\) . The Maximum Satisfiability problem (MaxSAT) is a generalization of SAT, which aims to optimize the number of satisfied clauses, and it is also an NP- hard problem with a wide range of applications (Ansótegui, Bonet, and Levy 2013). There have been tremendous efforts in solving SAT and MaxSAT efficiently, and numerous solvers have been developed in the last few decades such as (Cai and Zhang 2021). Nevertheless, these off- the- shelf solvers are mainly based on search algorithms with elaborate handcrafted strategies. Thanks to recent advances in deep representation learning, particularly for non- euclidean structure, there have been initial efforts to represent and solve combinatorial problems such as SAT through data- driven approaches. It relies on the fact that the distribution of problem instances in practice is generally domain- specific, which means that we can solely replace the training data to obtain efficient implicit heuristics instead of carefully modifying the strategies for certain domain.   

The current application of deep learning to SAT problem can be grouped into two categories. One is to build an end- to- end model that inputs a problem instance and directly predicts the satisfiability or solution, as demonstrated in Figure 1. A pioneering work is NeuroSAT (Selsam et al. 2019), which shows that graph neural networks (GNNs) have capability to learn the satisfiability of SAT instances in specific domain (i.e., whether a group of assignments to the variables exists such that all the clauses are satisfied). (Cameron et al. 2020) further explores the performance of GNN models on predicting the satisfiability of random 3SAT problems which are still challenging for the state- of- the- art solvers. The other category combines neural networks with the traditional search frameworks, trying to improve the effects of some key heuristics. For example, GNNs are used to replace the variable selection function in the WalkSAT solver (Yolcu and Póczos 2019), produce the initialization assignment of local search (Zhang et al. 2020), or guide the search by predicting the variables in the unsat core (Selsam and Bjørner 2019). These efforts indicate that GNN models are believed to have a certain degree of capability for learning from SAT problem instances, and also the potential to help improve SAT solving techniques in the future.  

Nevertheless, the current research barely discusses the quality of solution predicted by the models, which should be an important indicator to check what GNNs learn from SAT problems. The end- to- end models mentioned above mainly focus on the prediction of satisfiability. For a satisfiable instance, the predicted solution given by models is infeasible most of the time, and we also have no idea how far it is from a feasible solution. In order to better understand the capability of GNN models, we target the subject as learning the solution of MaxSAT problem, an optimization version of SAT which aims at finding a solution that maximizes the number of satisfied clauses. The advantage is that as an optimization problem, we can analyze the quality of solution in more detail, such as the number of satisfied clauses and the approximation ratio, while a solution of SAT provides little information that it is valid or not. It is worth mentioning that although the 2SAT problem (i.e., each clause contains two
literals) is in the complexity class P, the Max2SAT problem is still NP- hard (Garey, Johnson, and Stockmeyer 1976), so even generating near- optimal solution for Max2SAT is not trivial.  

Moreover, despite GNNs have shown their effectiveness on SAT problem through experiments, the theoretical analysis about why they can work is still absent so far. Recently, there have been some theoretical research about learning to solve combinatorial problems with GNNs. (Xu et al. 2019) proves that the discriminative power of many popular GNN variants, such as Graph Convolutional Networks (GCN) and GraphSAGE, is not sufficient for the graph isomorphism problem. (Xu et al. 2020) proposes the algorithmic alignment theory to explain what reasoning tasks GNNs can learn well, and shows GNNs can align with dynamic programming algorithms. So, many classical reasoning tasks could be solved relatively well with a GNN model, such as visual question answering and shortest paths. However, it also raises an issue: as a polynomial- time procedure, any GNN model cannot align with an exact algorithm for NP- hard problems unless \(\mathrm{P} = \mathrm{NP}\) , whereas some approximation algorithms may be used to analyze the capability of GNNs to solve such problems. (Sato, Yamada, and Kashima 2019) has employed a class of distributed local algorithms to prove that GNNs can learn to solve some combinatorial optimization problems, such as minimum dominating set and minimum vertex cover, with some approximation ratios. These theoretical contributions provide a basis for us to further study the capability of GNNs on the MaxSAT problem.  

In this paper, we investigate the capability of GNNs in learning to solve MaxSAT problem both from theoretical and practical perspectives. Inspired from the algorithmic alignment theory, we design a distributed local algorithm for MaxSAT, which is guaranteed to have an approximation ratio of \(1 / 2\) . As the algorithm aligns well with a single- layer GNN, it can provide a theoretical explanation of the effect that a simple GNN can learn to solve MaxSAT problem to some extent. More importantly, for the first time, this work leverages GNNs to learn the solution of MaxSAT problem. Specifically, we build two typical GNN models, MS- NSFG and MS- ESFG, based on summarizing the common forms proposed for SAT, to investigate the capability of GNNs from the practical perspective. We have trained and tested both models on several random MaxSAT datasets in different settings. The experimental results demonstrate that both models have achieved pretty high accuracy on the testing sets, as well as the satisfactory generalization to larger and more difficult problems. This implies that GNNs are expected to be promising alternatives to improve the state- of- the- art solvers. We are hopeful that the results in this paper can provide preliminary knowledge about the capability of GNNs to solve MaxSAT problem, and become a basis for more theoretical and practical research in the future.  

The contributions can be summarized as follows:  

- We build two typical GNN models to solve MaxSAT problem, which is the first work to predict the solution of MaxSAT problem with GNNs in an end-to-end fashion.  

<center>Figure 1: The general framework of applying GNNs to solve SAT and MaxSAT problems. The CNF formula is firstly transformed to a bipartite factor graph, then each node is assigned an initial embedding. The embeddings are updated iteratively through the message passing process. Finally, a classifier decodes the assignment of each variable from its embedding. </center>  

- We analyze the capability of GNNs to solve MaxSAT problem theoretically, and prove that even a single-layer GNN can achieve the approximation ratio of \(1 / 2\) .- We evaluate the GNN models on several datasets of random MaxSAT instances with different distributions, and show that GNNs can achieve good performance and generalization on this task.